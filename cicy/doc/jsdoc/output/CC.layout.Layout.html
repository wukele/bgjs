<div xmlns:ext="http://www.extjs.com" class="body-wrap"><h1>Class <a href="source/cicylib-all.html#cls-CC.layout.Layout">CC.layout.Layout</a></h1><table cellspacing="0"><tr><td class="label">Package:</td><td class="hd-info">CC.layout</td></tr><tr><td class="label">Defined In:</td><td class="hd-info">cicylib-all.js</td></tr><tr><td class="label">Class:</td><td class="hd-info"><a href="source/cicylib-all.html#cls-CC.layout.Layout">Layout</a></td></tr><tr><td class="label">Subclasses:</td><td class="hd-info"><a href="output/CC.layout.BorderLayout.html" ext:cls="CC.layout.BorderLayout">BorderLayout</a>,&#13;<a href="output/CC.layout.CardLayout.html" ext:cls="CC.layout.CardLayout">CardLayout</a>,&#13;<a href="output/CC.layout.QQLayout.html" ext:cls="CC.layout.QQLayout">QQLayout</a>,&#13;<a href="output/CC.layout.RowLayout.html" ext:cls="CC.layout.RowLayout">RowLayout</a>,&#13;<a href="output/CC.layout.TableLayout.html" ext:cls="CC.layout.TableLayout">TableLayout</a>,&#13;<a href="output/CC.layout.TablizeLayout.html" ext:cls="CC.layout.TablizeLayout">TablizeLayout</a>,&#13;<a href="output/CC.ui.TabItemLayout.html" ext:cls="CC.ui.TabItemLayout">TabItemLayout</a></td></tr><tr><td class="label">Extends:</td><td class="hd-info">Object</td></tr></table><div class="description">布局管理器基类.<br>
布局管理,布局管理可理解为一个容器怎么去摆放它的子项,因为CSS本身可以布局,所以,大多数时候并不必手动,即用脚本去布局子项,但当一些复杂灵活的布局CSS无能为力的时候,就需要脚本实现了,脚本实现的类可称为布局管理器.
<br>lyCfg就是一个容器布局管理器的配置(属性)信息,用于初始化容器自身的布局管理器,具体配置因不同布局管理器而不同.
<br>lyCfg.items 表明所有容器子项由布局管理器加入容器,而不是直接添加到容器,直接调用容器的add方法是不经过布局管理器的,这时如果需要布局的话,就不能对加入的子项进行布局了.
<br>container.array 配置也是所有将要加入到窗口子项组成数组,lyCfg.item不同的是,它们不经过布局管理器,直接调用容器add方法加到容器,当一些用CSS就能布局的容器通过以这种方式加载子项.
<br>container.items 意义与 container.layCfg.items一样,只是为了方便书写初始化.</div><div class="hr"></div><a id="CC.layout.Layout-configs"></a><h2>Config Options</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Config Options</th><th class="msource-header">Defined By</th></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-ct"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-ct">ct</a></b> : CC.Base<div class="mdesc">布局管理器对应的容器类</div></td><td class="msource">Layout</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-items"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-items">items</a></b> : Array<div class="mdesc">初始化时由管理器加入到容器的子项列表, 该属性等同于<a href="output/CC.ui.ContainerBase.html#CC.ui.ContainerBase-items" ext:member="items" ext:cls="CC.ui.ContainerBase">CC.ui.ContainerBase.items</a>.</div></td><td class="msource">Layout</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-layoutOnChange"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-layoutOnChange">layoutOnChange</a></b> : Boolean<div class="mdesc">如果每次布局都涉及所有容器子项,则该值应设为true,以便于当容器子项变更(add, remove, display)时重新布局容器</div></td><td class="msource">Layout</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-[deffer=false]"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-[deffer=false]">[deffer=false]</a></b> : Boolean<div class="mdesc">延迟多少毫秒后再布局,有利于提高用户体验,
但注意访问同步,例如容器子项在布局时才渲染,
如果deffer已置,则子项渲染将会在JavaScript下一周期调用.</div></td><td class="msource">Layout</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-itemCS"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-itemCS">itemCS</a></b> : String<div class="mdesc">将子项被加进容器时添加到子项的CSS样式</div></td><td class="msource">Layout</td></tr><tr class="config-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-lyInf"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-lyInf">lyInf</a></b> : Object<div class="mdesc"><div class="short">布局配置数据,子项的父容器布局管理器根据该信息布局子项.&#13;
    如果控件被布局管理器所管理,其布局相关的配置信息将存放在component.lyInf,&#13;
    要访问子项当前布局信息,可通过container.layout.c...</div><div class="long">布局配置数据,子项的父容器布局管理器根据该信息布局子项.<br>
    如果控件被布局管理器所管理,其布局相关的配置信息将存放在component.lyInf,
    要访问子项当前布局信息,可通过container.layout.cfgFrom(component)方法获得.</div></div></td><td class="msource">Layout</td></tr><tr class="config-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-invalidate"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-invalidate">invalidate</a></b> : Boolean<div class="mdesc"><div class="short">指示当引发布局时是否执行布局,&#13;
如大量引发重复布局的操作可先设置invalidate=true,执行完后再设置invalidate=false,&#13;
再调用doLayout布局.&#13;
容器类不必直接设置该属性,&#13;
可调用CC.ui.Co...</div><div class="long">指示当引发布局时是否执行布局,
如大量引发重复布局的操作可先设置invalidate=true,执行完后再设置invalidate=false,
再调用<a href="output/CC.layout.Layout.html#CC.layout.Layout-doLayout" ext:member="doLayout" ext:cls="CC.layout.Layout">doLayout</a>布局.<br>
容器类不必直接设置该属性,
可调用<a href="output/CC.ui.ContainerBase.html#CC.ui.ContainerBase-validate" ext:member="validate" ext:cls="CC.ui.ContainerBase">CC.ui.ContainerBase.validate</a>和<a href="output/CC.ui.ContainerBase.html#CC.ui.ContainerBase-invalidate" ext:member="invalidate" ext:cls="CC.ui.ContainerBase">CC.ui.ContainerBase.invalidate</a>方法.</div></div></td><td class="msource">Layout</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-ctCS"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-ctCS">ctCS</a></b> : String<div class="mdesc">初始化时添加到容器的样式</div></td><td class="msource">Layout</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-wrCS"></a><b><a href="source/cicylib-all.html#cfg-CC.layout.Layout-wrCS">wrCS</a></b> : String<div class="mdesc">初始化时添加到容器ct.wrapper的样式</div></td><td class="msource">Layout</td></tr></tbody></table><a id="CC.layout.Layout-props"></a><h2>Public Properties</h2><div class="no-members">This class has no public properties.</div><a id="CC.layout.Layout-events"></a><h2>Public Events</h2><div class="no-members">This class has no public events.</div><a id="CC.layout.Layout-methods"></a><h2>Public Methods</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Method</th><th class="msource-header">Defined By</th></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-add"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-add">add</a></b>(&nbsp;<code>CC.Base&nbsp;component</code>,&nbsp;<code>Object&nbsp;cfg</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">将组件 component 添加到布局,&#13;
如果容器具有有效的布局管理器,则建议从布局管理器添加子项组件,&#13;
而不是直接调用容器add方法, 其它子项变更操作(remove, insert)同理.&#13;
如果layoutOnChange为...</div><div class="long">将组件 component 添加到布局,
如果容器具有有效的布局管理器,则建议从布局管理器添加子项组件,
而不是直接调用容器add方法, 其它子项变更操作(remove, insert)同理.
如果layoutOnChange为true,组件加入后将重新布局容器,否则只调用layoutChild对加入组件进行布局.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>component</code> : CC.Base<div class="sub-desc"></div></li><li><code>cfg</code> : Object<div class="sub-desc">组件布局信息</div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-display"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-display">display</a></b>(&nbsp;<code>CC.Base&nbsp;component</code>,&nbsp;<code>Boolean&nbsp;displayOrNot</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">显示/隐藏子项,如果layoutOnChange为true则重新布局容器.</div><div class="long">显示/隐藏子项,如果layoutOnChange为true则重新布局容器.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>component</code> : CC.Base<div class="sub-desc"></div></li><li><code>displayOrNot</code> : Boolean<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-doLayout"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-doLayout">doLayout</a></b>()
    :
                                        void<div class="mdesc"><div class="short">布局容器,要重写布局应重写onLayout方法.</div><div class="long">布局容器,要重写布局应重写onLayout方法.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-cfgFrom"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-cfgFrom">cfgFrom</a></b>(&nbsp;<code>CC.Base&nbsp;item</code>&nbsp;)
    :
                                        Object<div class="mdesc"><div class="short">获得控件当前布局相关的属性配置信息, 该调用无论任何时候都会返回一个非null对象,即使相关配置不存在.&#13;
var item = ct.$(0);&#13;
   var layout = ct.layout;&#13;
   var cfg = l...</div><div class="long">获得控件当前布局相关的属性配置信息, 该调用无论任何时候都会返回一个非null对象,即使相关配置不存在.
<pre><code><b>var</b> item = ct.$(0);
   <b>var</b> layout = ct.layout;
   <b>var</b> cfg = layout.cfgFrom(item);

   <b>if</b>(cfg.collapsed) {
    <i>//...</i>
   }</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>item</code> : CC.Base<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>Object</code><div class="sub-desc">控件当前布局相关的属性配置信息</div></li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-insert"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-insert">insert</a></b>(&nbsp;<code>CC.Base&nbsp;component</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short"></div><div class="long"><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>component</code> : CC.Base<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-remove"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-remove">remove</a></b>(&nbsp;<code>CC.Base&nbsp;component</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">除移子项时调用并重新布局,&#13;
注意:从布局管理器移除子控件并不从容器移除.&#13;
如果layoutOnChange设置为false时不调用。</div><div class="long">除移子项时调用并重新布局,
注意:从布局管理器移除子控件并不从容器移除.
如果layoutOnChange设置为false时不调用。<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>component</code> : CC.Base<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-fromArray"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-fromArray">fromArray</a></b>(&nbsp;<code>CC.Base&nbsp;items</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">批量添加子控件到容器.</div><div class="long">批量添加子控件到容器.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>items</code> : CC.Base<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-attach"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-attach">attach</a></b>(&nbsp;<code>Object&nbsp;ct</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">将布局管理器应用到一个容器控件中。</div><div class="long">将布局管理器应用到一个容器控件中。<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>ct</code> : Object<div class="sub-desc">container component</div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Layout</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.layout.Layout-detach"></a><b><a href="source/cicylib-all.html#method-CC.layout.Layout-detach">detach</a></b>()
    :
                                        void<div class="mdesc"><div class="short">移除容器的布局管理器.</div><div class="long">移除容器的布局管理器.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Layout</td></tr></tbody></table></div>