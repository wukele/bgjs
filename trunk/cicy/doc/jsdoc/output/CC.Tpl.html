<div xmlns:ext="http://www.extjs.com" class="body-wrap"><h1>Class <a href="source/cicylib-all.html#cls-CC.Tpl">CC.Tpl</a></h1><table cellspacing="0"><tr><td class="label">Package:</td><td class="hd-info">CC</td></tr><tr><td class="label">Defined In:</td><td class="hd-info">cicylib-all.js</td></tr><tr><td class="label">Class:</td><td class="hd-info"><a href="source/cicylib-all.html#cls-CC.Tpl">Tpl</a></td></tr><tr><td class="label">Extends:</td><td class="hd-info">Object</td></tr></table><div class="description">控件html模板定义类, 通过<a href="output/CC.Tpl.html#CC.Tpl-def" ext:member="def" ext:cls="CC.Tpl">def</a>方式存放.
<pre><code>CC.Tpl.def(<em>'MyComp'</em>) = <em>'&lt;div class=&quot;cus&quot;&gt;&lt;/div&gt;'</em>;</code></pre>
<br>
不宜在注册CC.Cache缓存时调用模板方法<a href="output/CC.Tpl.$.html" ext:cls="CC.Tpl.$">CC.Tpl.$</a>, <a href="output/CC.Tpl.$$.html" ext:cls="CC.Tpl.$$">CC.Tpl.$$</a>,<a href="output/CC.Tpl.remove.html" ext:cls="CC.Tpl.remove">CC.Tpl.remove</a>,这将引起循环的递归调用,因为模板生成的结点缓存在Cache里的.</div><div class="hr"></div><a id="CC.Tpl-configs"></a><h2>Config Options</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Config Options</th><th class="msource-header">Defined By</th></tr><tr class="config-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Tpl-BLANK_IMG"></a><b><a href="source/cicylib-all.html#cfg-CC.Tpl-BLANK_IMG">BLANK_IMG</a></b> : String<div class="mdesc"><div class="short">为什么要有空图片?&#13;
用于填充img标签.为什么要用到img标签,用其它标签的background-url定位不行么?&#13;
img标签主要优点是可放大,缩小图片,目前兼容的css难做到这点.&#13;
可以通过window.BLANK_IMG指...</div><div class="long">为什么要有空图片?
用于填充img标签.为什么要用到img标签,用其它标签的background-url定位不行么?
img标签主要优点是可放大,缩小图片,目前兼容的css难做到这点.<br>
可以通过window.BLANK_IMG指定空图片.</div></div></td><td class="msource">Tpl</td></tr></tbody></table><a id="CC.Tpl-props"></a><h2>Public Properties</h2><div class="no-members">This class has no public properties.</div><a id="CC.Tpl-events"></a><h2>Public Events</h2><div class="no-members">This class has no public events.</div><a id="CC.Tpl-methods"></a><h2>Public Methods</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Method</th><th class="msource-header">Defined By</th></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Tpl-$"></a><b><a href="source/cicylib-all.html#method-CC.Tpl-$">$</a></b>(&nbsp;<code>String&nbsp;keyName</code>,&nbsp;<code>String&nbsp;compName</code>,&nbsp;<code>Function&nbsp;[prehandler]</code>,&nbsp;<code>Object&nbsp;[Object]</code>&nbsp;)
    :
                                        DOMElement<div class="mdesc"><div class="short">根据模板名称获得模板字符串对应的HTML结点集,该结点生成只有一次,第二次调用时将从缓存克隆结点数据.&#13;
CC.Tpl.def('MyComp', '&amp;lt;div class=&amp;quot;fd&amp;quot;&amp;gt;&amp;lt;a href...</div><div class="long">根据模板名称获得模板字符串对应的HTML结点集,该结点生成只有一次,第二次调用时将从缓存克隆结点数据.<br>
<pre><code>CC.Tpl.def(<em>'MyComp'</em>, <em>'&lt;div class=&quot;fd&quot;&gt;&lt;a href=&quot;javascript:<b>void</b>(0)&quot; id=&quot;_tle&quot;&gt;&thorn;&yen;&lt;/a&gt;&lt;/div&gt'</em>);

  <b>var</b>  domNode = Tpl.$(<em>'MyComp'</em>);

  <i>//显示 _tle</i>
  alert(domNode.firstChild.id);</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>keyName</code> : String<div class="sub-desc">模板在Tpl中的键值,即属性名称</div></li><li><code>compName</code> : String<div class="sub-desc"></div></li><li><code>[prehandler]</code> : Function<div class="sub-desc">模板字符串的预处理函数, 调用方式为 return function(strTemplate, objParam),返回处理后的html模板</div></li><li><code>[Object]</code> : Object<div class="sub-desc">prehandler 传递给prehandler的参数</div></li></ul><strong>Returns:</strong><ul><li><code>DOMElement</code><div class="sub-desc">模板字符串对应的HTML结点集</div></li></ul></div></div></div></td><td class="msource">Tpl</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Tpl-$$"></a><b><a href="source/cicylib-all.html#method-CC.Tpl-$$">$$</a></b>(&nbsp;<code>key&nbsp;模板在Tpl中的键值,即属性名称</code>&nbsp;)
    :
                                        CC.Base<div class="mdesc"><div class="short">获得模板DOM结点经Base封装后的对象</div><div class="long">获得模板DOM结点经Base封装后的对象<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>模板在Tpl中的键值,即属性名称</code> : key<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>CC.Base</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Tpl</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Tpl-remove"></a><b><a href="source/cicylib-all.html#method-CC.Tpl-remove">remove</a></b>(&nbsp;<code>key&nbsp;模板在Tpl中的键值,即属性名称</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">移除已缓存的模板结点.</div><div class="long">移除已缓存的模板结点.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>模板在Tpl中的键值,即属性名称</code> : key<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Tpl</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Tpl-forNode"></a><b><a href="source/cicylib-all.html#method-CC.Tpl-forNode">forNode</a></b>(&nbsp;<code>String&nbsp;strHtml</code>,&nbsp;<code>Object&nbsp;[dataObj]</code>,&nbsp;<code>String&nbsp;[st]</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">根据html字符串返回由该字符串生成的HTML结点集.&#13;
var dataObj = {id:'Rock', age : 2};&#13;
 var strHtml = &amp;lt;div class=&amp;quot;fd&amp;quot;&amp;gt;&amp;lt;...</div><div class="long">根据html字符串返回由该字符串生成的HTML结点集.<br>
<pre><code><b>var</b> dataObj = {id:<em>'Rock'</em>, age : 2};
 <b>var</b> strHtml = &lt;div class=&quot;fd&quot;&gt;&lt;a href=&quot;javascript:<b>void</b>(0)&quot; id=&quot;{title}&quot;&gt;年龄:{age}&lt;/a&gt;&lt;/div&gt;

 <b>var</b> node = Tpl.forNode( strHtml, dataObj );

 <b>var</b> link = node.firstChild;

 <i>//显示 Rock</i>
 alert(link.id);

 <i>//显示 年龄:2</i>
 alert(link.innerHTML);</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>strHtml</code> : String<div class="sub-desc"></div></li><li><code>[dataObj]</code> : Object<div class="sub-desc"></div></li><li><code>[st]</code> : String<div class="sub-desc">模板替换方式, 参见<a href="output/CC.templ.html" ext:cls="CC.templ">CC.templ</a></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Tpl</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Tpl-def"></a><b><a href="source/cicylib-all.html#method-CC.Tpl-def">def</a></b>(&nbsp;<code>String&nbsp;key</code>,&nbsp;<code>String&nbsp;模板字符串,可以多个参数,方便查看</code>&nbsp;)
    :
                                        Object<div class="mdesc"><div class="short">定义模板.</div><div class="long">定义模板.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>key</code> : String<div class="sub-desc">模板在Tpl中的键值,即属性名称</div></li><li><code>模板字符串,可以多个参数,方便查看</code> : String<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>Object</code><div class="sub-desc">this</div></li></ul></div></div></div></td><td class="msource">Tpl</td></tr></tbody></table></div>