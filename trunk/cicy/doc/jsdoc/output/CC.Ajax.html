<div xmlns:ext="http://www.extjs.com" class="body-wrap"><div class="inheritance res-block"><pre class="res-block-inner"><a href="output/CC.Eventable.html" ext:member="" ext:cls="CC.Eventable">Eventable</a>&#13;&nbsp;&nbsp;<img src="resources/elbow-end.gif">Ajax</pre></div><h1>类 <a href="source/cicylib-all.html#cls-CC.Ajax">CC.Ajax</a></h1><table cellspacing="0"><tr><td class="label">空间：</td><td class="hd-info">CC</td></tr><tr><td class="label">定义在:</td><td class="hd-info">cicylib-all.js,&#13;cicylib-all.js</td></tr><tr><td class="label">类:</td><td class="hd-info"><a href="source/cicylib-all.html#cls-CC.Ajax">Ajax</a></td></tr><tr><td class="label">父类:</td><td class="hd-info"><a href="output/CC.Eventable.html" ext:cls="CC.Eventable" ext:member="">Eventable</a></td></tr></table><div class="description">CC.Ajax Ajax请求封装类<br>
该类依赖底层连接器实现，目前已实现的连接器有
<ul>
<li>XMLHttpRequest，这是浏览器自带的http连接，不能跨哉。</li>
<li>JSONP，利用script标签加载资源，可跨域。，参见<a href="output/CC.util.JSONPConnector.html" ext:cls="CC.util.JSONPConnector">CC.util.JSONPConnector</a></li>
</ul>
AJAX类具有很详细的事件列表，利用这些事件可控制请求的每个细节。
可以new一个实例，再调用<a href="output/open.html" ext:cls="open">open</a>, <a href="output/send.html" ext:cls="send">send</a>或<a href="output/connect.html" ext:cls="connect">connect</a>方法请求数据，
也可以直接调用静态方法<a href="output/CC.Ajax.connect.html" ext:cls="CC.Ajax.connect">CC.Ajax.connect</a>发起请求。
 <pre><code><i>//连接服务器并获得返回的JSON数据</i>
  CC.Ajax.connect({
    url : <em>'/server/json/example.page?param=v'</em>,
    success : <b>function</b>(ajax){
                    <b>var</b> json = this.getJson();
                    alert(json.someKey);
    },
    failure : <b>function</b>(){alert(<em>'连接失败.'</em>);},
    
    onfinal : <b>function</b>(){
        alert(<em>'无论成功与否，都被执行'</em>);
    }
  });

  <i>//连接服务器并获得返回的XML文档对象数据</i>
  CC.Ajax.connect({
    url : <em>'/server/xml/example.page?param=v'</em>,
    success : <b>function</b>(ajax){
                    <b>var</b> xmlDoc = ajax.getXmlDoc();
                    alert(xmlDoc);
    }
  });

  <i>// 连接服务器并运行返回的html数据,</i>
  <i>// 将html显示在设置的displayPanel中,在window范围内运行Javascript和style</i>
  CC.Ajax.connect({
    url : <em>'/server/xml/example.page?param=v'</em>,
    displayPanel : <em>'panel'</em>
  });

  <i>//</i>
  <b>var</b> ajax = <b>new</b> CC.Ajax({
   url : <em>'...'</em>,
   <i>// 指定POST请法度</i>
   method:<em>'POST'</em>,
   <i>// POST数据</i>
   data : {article:<em>'long long text.'</em>}
   ....
  });
  ajax.connect(<em>'param=data'</em>);
  
  <i>// 当资源需要跨域时，可进行JSONP请求，返回JSON对象数据。</i>
  CC.Ajax.connect({
    <i>// 指定方式为JSONP</i>
    method : <em>'JSONP'</em>,
    <i>//其它设置一样</i>
    success : <b>function</b>(json){
        alert(json);
    }
  });</code></pre></div><div class="hr"></div><a id="CC.Ajax-configs"></a><h2>配置项</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">config</th><th class="msource-header">定义在</th></tr><tr class="config-row expandable 继承自"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Eventable-events"></a><b><a href="source/cicylib-all.html#cfg-CC.Eventable-events">events</a></b> : Object<div class="mdesc"><div class="short">保存的事件列表,格式为&#13;
     events : {&#13;
         // names&#13;
         'eventName' : [ //Array, handler list&#13;
           // handle...</div><div class="long">保存的事件列表,格式为
     <pre><code>events : {
         <i>// names</i>
         <em>'eventName'</em> : [ <i>//Array, handler list</i>
           <i>// handler data</i>
           {  
             <i>// callback 简写</i>
             cb : <b>function</b>(arguments){
               <i>// ...</i>
             },
             
             <i>// <b>this</b> caller</i>
             caller : object
           },
           ...
         ],
         ...
       }</code></pre></div></div></td><td class="msource">Eventable</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-method"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-method">method</a></b> : String<div class="mdesc">GET 或者 POST 或者 JSONP,默认GET.</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-url"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-url">url</a></b> : String<div class="mdesc">请求URL</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-asynchronous=true"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-asynchronous=true">asynchronous=true</a></b> : Boolean<div class="mdesc">是否异步,默认true</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-timeout=false"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-timeout=false">timeout=false</a></b> : Number<div class="mdesc">设置超时,默认无限制</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-disabledComp"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-disabledComp">disabledComp</a></b> : DOMElement<div class="mdesc">在请求过程中禁止的元素,请求结束后解除</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-contentType"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-contentType">contentType</a></b> : String<div class="mdesc">默认application/x-www-form-urlencoded</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-msg"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-msg">msg</a></b> : String<div class="mdesc">提示消息</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-cache=true"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-cache=true">cache=true</a></b> : Boolean<div class="mdesc">是否忽略浏览器缓存,默认为true.</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-caller"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-caller">caller</a></b> : Function<div class="mdesc">用于调用failure,success函数的this对象.</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-failure"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-failure">failure</a></b> : Function<div class="mdesc">失败后的回调.</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-data"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-data">data</a></b> : Object<div class="mdesc">POST时发送的数据</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-params"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-params">params</a></b> : String|Object<div class="mdesc">G提交的字符串参数或Map键值对,结果被追加到<b>url</b>尾.</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-success"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-success">success</a></b> : Function<div class="mdesc">设置成功后的回调,默认为调用<a href="output/invokeHtml.html" ext:cls="invokeHtml">invokeHtml</a>运行服务器返回的数据内容.</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-onfinal"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-onfinal">onfinal</a></b> : Function<div class="mdesc">无论请求成功与否最终都被调用.</div></td><td class="msource">Ajax</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-displayPanel"></a><b><a href="source/cicylib-all.html#cfg-CC.Ajax-displayPanel">displayPanel</a></b> : DOMElement|String<div class="mdesc">如果数据已加载,数据显示的DOM面板.</div></td><td class="msource">Ajax</td></tr></tbody></table><a id="CC.Ajax-props"></a><h2>公共属性（只读）</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">properties</th><th class="msource-header">定义在</th></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-xmlReq"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-xmlReq">xmlReq</a></b> : XMLHttpRequest<div class="mdesc">XMLHttpRequest对象</div></td><td class="msource">Ajax</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-busy"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-busy">busy</a></b> : Boolean<div class="mdesc">指明当前Ajax是否处理请求处理状态,在open后直至close前该值为真.</div></td><td class="msource">Ajax</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-loaded"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-loaded">loaded</a></b> : Boolean<div class="mdesc">指明当前请求是否已成功返回(状态码200).</div></td><td class="msource">Ajax</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-closed"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-closed">closed</a></b> : Boolean<div class="mdesc">指明当前请求是否已关闭.</div></td><td class="msource">Ajax</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-status"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-status">status</a></b> : String<div class="mdesc">在每个事件发送后,事件名称记录在该属性下.</div></td><td class="msource">Ajax</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-text"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-text">text</a></b> : String<div class="mdesc">调用<a href="output/CC.Ajax.html#CC.Ajax-getText" ext:member="getText" ext:cls="CC.Ajax">getText</a>方法后保存的text文本,在<a href="output/CC.Ajax.html#CC.Ajax-close" ext:member="close" ext:cls="CC.Ajax">close</a>方法调用后销毁, 可重设以后某些过滤处理.</div></td><td class="msource">Ajax</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-xmlDoc"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-xmlDoc">xmlDoc</a></b> : XMLDocument<div class="mdesc">调用<a href="output/CC.Ajax.html#CC.Ajax-getXmlDoc" ext:member="getXmlDoc" ext:cls="CC.Ajax">getXmlDoc</a>方法后保存的XMLDocument对象,在<a href="output/CC.Ajax.html#CC.Ajax-close" ext:member="close" ext:cls="CC.Ajax">close</a>方法调用后销毁.</div></td><td class="msource">Ajax</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-json"></a><b><a href="source/cicylib-all.html#prop-CC.Ajax-json">json</a></b> : Object<div class="mdesc">调用<a href="output/CC.Ajax.html#CC.Ajax-getJson" ext:member="getJson" ext:cls="CC.Ajax">getJson</a>方法后保存的json对象,在<a href="output/CC.Ajax.html#CC.Ajax-close" ext:member="close" ext:cls="CC.Ajax">close</a>方法调用后销毁.</div></td><td class="msource">Ajax</td></tr></tbody></table><a id="CC.Ajax-events"></a><h2>事件列表</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Event</th><th class="msource-header">Defined By</th></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-final"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-final">final</a></b> :
                                      (&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">请求结束后调用,无论成功与否.</div><div class="long">请求结束后调用,无论成功与否.<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-open"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-open">open</a></b> :
                                      (&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">在打开前发送</div><div class="long">在打开前发送<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-send"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-send">send</a></b> :
                                      (&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">在发送数据前发送</div><div class="long">在发送数据前发送<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-json"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-json">json</a></b> :
                                      (&nbsp;<code>Object&nbsp;o</code>,&nbsp;<code>Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">在获得XMLHttpRequest数据调后Ajax.getJson方法后发送,可直接对当前json对象作更改,这样可对返回的json数据作预处理.</div><div class="long">在获得XMLHttpRequest数据调后Ajax.getJson方法后发送,可直接对当前json对象作更改,这样可对返回的json数据作预处理.<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>o</code> : Object<div class="sub-desc">json对象</div></li><li><code>ajax</code> : Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-xmlDoc"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-xmlDoc">xmlDoc</a></b> :
                                      (&nbsp;<code>XMLDocument&nbsp;doc</code>,&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">在获得XMLHttpRequest数据调后Ajax.getXMLDoc方法后发送,可直接对当前xmlDoc对象作更改,这样可对返回的XMLDoc数据作预处理.</div><div class="long">在获得XMLHttpRequest数据调后Ajax.getXMLDoc方法后发送,可直接对当前xmlDoc对象作更改,这样可对返回的XMLDoc数据作预处理.<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>doc</code> : XMLDocument<div class="sub-desc"></div></li><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-text"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-text">text</a></b> :
                                      (&nbsp;<code>String&nbsp;responseText</code>,&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">在获得XMLHttpRequest数据调后Ajax.getText方法后发送,如果要改变当前text数据,在更改text后设置当前Ajax对象text属性即可,这样可对返回的文件数据作预处理.</div><div class="long">在获得XMLHttpRequest数据调后Ajax.getText方法后发送,如果要改变当前text数据,在更改text后设置当前Ajax对象text属性即可,这样可对返回的文件数据作预处理.<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>responseText</code> : String<div class="sub-desc"></div></li><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-failure"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-failure">failure</a></b> :
                                      (&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">数据请求失败返回后发送.</div><div class="long">数据请求失败返回后发送.<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-success"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-success">success</a></b> :
                                      (&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">数据成功返回加载后发送.</div><div class="long">数据成功返回加载后发送.<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-load"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-load">load</a></b> :
                                      (&nbsp;<code>CC.Ajax&nbsp;ajax</code>&nbsp;)
    <div class="mdesc"><div class="short">请求响应返回加载后发送(此时readyState = 4).</div><div class="long">请求响应返回加载后发送(此时readyState = 4).<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>ajax</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-statuschange"></a><b><a href="source/cicylib-all.html#event-CC.Ajax-statuschange">statuschange</a></b> :
                                      (&nbsp;<code>String&nbsp;status</code>,&nbsp;<code>CC.Ajax&nbsp;j</code>&nbsp;)
    <div class="mdesc"><div class="short">在每个fire事件发送前该事件都会发送</div><div class="long">在每个fire事件发送前该事件都会发送<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>status</code> : String<div class="sub-desc"></div></li><li><code>j</code> : CC.Ajax<div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr></tbody></table><a id="CC.Ajax-methods"></a><h2>公共方法</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">method</th><th class="msource-header">定义在</th></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Eventable-fire"></a><b><a href="source/cicylib-all.html#method-CC.Eventable-fire">fire</a></b>(&nbsp;<code>Object&nbsp;eid</code>,&nbsp;<code>Object,&nbsp;Object,</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">发送对象事件.&#13;
 var e = new Eventable();&#13;
  e.on('selected', function(arg){&#13;
   //handling..&#13;
  });&#13;
  e.fire('selected', a...</div><div class="long">发送对象事件.<br>
 <pre><code><b>var</b> e = <b>new</b> Eventable();
  e.on(<em>'selected'</em>, <b>function</b>(arg){
   <i>//handling..</i>
  });
  e.fire(<em>'selected'</em>, arg);</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc">事件名称</div></li><li><code>Object,</code> : Object,<div class="sub-desc">...} args 传递的回调参数</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource"><a href="output/CC.Eventable.html#fire" ext:member="#fire" ext:cls="CC.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Eventable-on"></a><b><a href="source/cicylib-all.html#method-CC.Eventable-on">on</a></b>(&nbsp;<code>Object&nbsp;eid</code>,&nbsp;<code>Function&nbsp;callback</code>,&nbsp;<code>Object&nbsp;[ds]</code>,&nbsp;<code>Object&nbsp;[objArgs]</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">监听对象事件,如果回调函数返回false,取消后续的事件处理. &#13;
 var self = {name:'Rock'};&#13;
   var cfg = {message:'Good boy!'};&#13;
   var e = new CC....</div><div class="long">监听对象事件,如果回调函数返回false,取消后续的事件处理. <br>
 <pre><code><b>var</b> self = {name:<em>'Rock'</em>};
   <b>var</b> cfg = {message:<em>'Good boy!'</em>};
   <b>var</b> e = <b>new</b> CC.Eventable();
   e.on(<em>'selected'</em>, <b>function</b>(item, cfg){
    <i>//显示an item</i>
    alert(item.title);

    <i>//显示Rock</i>
    alert(this.name);

    <i>//显示Good boy!</i>
    alert(cfg.message);
   }, self, cfg);

   <b>var</b> item = {title:<em>'an item'</em>};
   e.fire(<em>'selected'</em>, item);</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc">事件名称</div></li><li><code>callback</code> : Function<div class="sub-desc">事件回调函数</div></li><li><code>[ds]</code> : Object<div class="sub-desc">this范围对象</div></li><li><code>[objArgs]</code> : Object<div class="sub-desc">传递参数,该参数将作为回调最后一个参数传递</div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/CC.Eventable.html#on" ext:member="#on" ext:cls="CC.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Eventable-un"></a><b><a href="source/cicylib-all.html#method-CC.Eventable-un">un</a></b>(&nbsp;<code>Object&nbsp;eid</code>,&nbsp;<code>Function&nbsp;callback</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">移除事件监听.</div><div class="long">移除事件监听.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc"></div></li><li><code>callback</code> : Function<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/CC.Eventable.html#un" ext:member="#un" ext:cls="CC.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Eventable-fireOnce"></a><b><a href="source/cicylib-all.html#method-CC.Eventable-fireOnce">fireOnce</a></b>(&nbsp;<code>Object&nbsp;eid</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">发送一次后移除所有监听器,有些事件只通知一次的,此时可调用该方法发送事件</div><div class="long">发送一次后移除所有监听器,有些事件只通知一次的,此时可调用该方法发送事件<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/CC.Eventable.html#fireOnce" ext:member="#fireOnce" ext:cls="CC.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Eventable-to"></a><b><a href="source/cicylib-all.html#method-CC.Eventable-to">to</a></b>(&nbsp;<code>Object&nbsp;target</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">订阅当前对象所有事件</div><div class="long">订阅当前对象所有事件<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>target</code> : Object<div class="sub-desc">订阅者,订阅者也是可Eventable的对象</div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/CC.Eventable.html#to" ext:member="#to" ext:cls="CC.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Eventable-fireSubscribe"></a><b><a href="source/cicylib-all.html#method-CC.Eventable-fireSubscribe">fireSubscribe</a></b>()
    :
                                        this<div class="mdesc"><div class="short">默认为fire,自定订阅方式可重写.&#13;
 var source = new Eventable();&#13;
  var subscriber = new Eventable();&#13;
&#13;
  source.to(subscribers);&#13;...</div><div class="long">默认为fire,自定订阅方式可重写.<br>
 <pre><code><b>var</b> source = <b>new</b> Eventable();
  <b>var</b> subscriber = <b>new</b> Eventable();

  source.to(subscribers);
  subscriber.on(<em>'load'</em>, <b>function</b>(){});

  source.fire(<em>'load'</em>);</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/CC.Eventable.html#fireSubscribe" ext:member="#fireSubscribe" ext:cls="CC.Eventable">Eventable</a></td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-setOption"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-setOption">setOption</a></b>(&nbsp;<code>Object&nbsp;opts</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">重设置.</div><div class="long">重设置.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>opts</code> : Object<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-setMsg"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-setMsg">setMsg</a></b>()
    :
                                        void<div class="mdesc"><div class="short">重写以实现自定消息界面,用于进度的消息显示,默认为空调用.</div><div class="long">重写以实现自定消息界面,用于进度的消息显示,默认为空调用.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-abort"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-abort">abort</a></b>()
    :
                                        void<div class="mdesc"><div class="short">终止请求</div><div class="long">终止请求<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-open"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-open">open</a></b>()
    :
                                        void<div class="mdesc"><div class="short">建立XMLHttpRequest连接,在调用该方法后调用send方法前可设置HEADER.</div><div class="long">建立XMLHttpRequest连接,在调用该方法后调用send方法前可设置HEADER.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-send"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-send">send</a></b>(&nbsp;<code>object&nbsp;[data]</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">开始传输.</div><div class="long">开始传输.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>[data]</code> : object<div class="sub-desc">要传输的数据</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-connect"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-connect">connect</a></b>(&nbsp;<code>object&nbsp;[data]</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">建立连接并发送数据,如果当前Ajax类正忙,会终止先前连接再重新建立,这方法是连续调用open,send以完成的.</div><div class="long">建立连接并发送数据,如果当前Ajax类正忙,会终止先前连接再重新建立,这方法是连续调用open,send以完成的.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>[data]</code> : object<div class="sub-desc">要传输的数据</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-setRequestHeader"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-setRequestHeader">setRequestHeader</a></b>(&nbsp;<code>Object&nbsp;key</code>,&nbsp;<code>Object&nbsp;value</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">设置请求数据头.</div><div class="long">设置请求数据头.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>key</code> : Object<div class="sub-desc"></div></li><li><code>value</code> : Object<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-getResponseHeader"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-getResponseHeader">getResponseHeader</a></b>()
    :
                                        void<div class="mdesc"><div class="short">获得服务器返回的数据头信息.</div><div class="long">获得服务器返回的数据头信息.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-getText"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-getText">getText</a></b>()
    :
                                        string<div class="mdesc"><div class="short">提供访问返回数据一致性方法,以文本形式提取返回数据,并将该数据保存在当前Ajax实例的text属性中.&#13;
调用该方法中发送text事件,在Ajax关闭后Ajax.text会被清空.</div><div class="long">提供访问返回数据一致性方法,以文本形式提取返回数据,并将该数据保存在当前Ajax实例的text属性中.
调用该方法中发送text事件,在Ajax关闭后Ajax.text会被清空.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>string</code><div class="sub-desc">text 服务器返回的文件数据</div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-getXmlDoc"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-getXmlDoc">getXmlDoc</a></b>()
    :
                                        XMLDocument<div class="mdesc"><div class="short">获得服务器返回数据的XML Document 格式文档对象,该方法调用了XMLHttpRequest.responseXML.documentElement获得XML文档对象.&#13;
在调用过程中会发送xmlDoc事件.</div><div class="long">获得服务器返回数据的XML Document 格式文档对象,该方法调用了XMLHttpRequest.responseXML.documentElement获得XML文档对象.
在调用过程中会发送xmlDoc事件.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>XMLDocument</code><div class="sub-desc">XML Document 文档对象.</div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-getJson"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-getJson">getJson</a></b>()
    :
                                        转换后的Javascript对象,如果数据格式有误,返回undefined<div class="mdesc"><div class="short">获得服务器返回数据格式的JSON对象,该方法先调用getText方法获得文本数据,再将数据转为Javascript对象.&#13;
可改变返回的text文本数据以达到修改JSON数据的目的,只要在调用getJson重设ajax.text值即可...</div><div class="long">获得服务器返回数据格式的JSON对象,该方法先调用getText方法获得文本数据,再将数据转为Javascript对象.
可改变返回的text文本数据以达到修改JSON数据的目的,只要在调用getJson重设ajax.text值即可.
在调用过程中会发送text事件.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>转换后的Javascript对象,如果数据格式有误,返回undefined</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-invokeScript"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-invokeScript">invokeScript</a></b>()
    :
                                        string<div class="mdesc"><div class="short">运行返回内容中的JS,方法返回已剔除JS后的内容.&#13;
//服务器返回的文本数据为&#13;
    &amp;lt;script&amp;gt;&#13;
      alert('Hello world!');&#13;
    &amp;lt;/script&amp;gt;&#13;
    ...</div><div class="long">运行返回内容中的JS,方法返回已剔除JS后的内容.<br>
<pre><code><i>//服务器返回的文本数据为</i>
    &lt;script&gt;
      alert(<em>'Hello world!'</em>);
    &lt;/script&gt;
    &lt;div&gt;something&lt;/div&gt;

    <i>//////////</i>
    Ajax.connect({
      url:<em>'/test/'</em>,
      success : <b>function</b>(){
       <i>//以下ss值为 <em>'&lt;xml&gt;something&lt;/xml&gt;'</em>,弹出的alert并显示Hello world!.</i>
        <b>var</b> ss = this.invokeScript();
      }
    });</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>string</code><div class="sub-desc">返回已剔除JS后的内容</div></li></ul></div></div></div></td><td class="msource">Ajax</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="CC.Ajax-invokeHtml"></a><b><a href="source/cicylib-all.html#method-CC.Ajax-invokeHtml">invokeHtml</a></b>()
    :
                                        void<div class="mdesc"><div class="short">应用请求返回的HTML文本,方法先提取JS(如果存在),style(如果存在),将剩下内容放入displayPanel(innerHTML)中,再运行提取的JS,style.</div><div class="long">应用请求返回的HTML文本,方法先提取JS(如果存在),style(如果存在),将剩下内容放入displayPanel(innerHTML)中,再运行提取的JS,style.<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ajax</td></tr></tbody></table></div>