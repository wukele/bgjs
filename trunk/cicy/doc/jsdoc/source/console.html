<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    
  <title>The source code</title>
    <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
</head>
<body  onload="prettyPrint();">
    <pre class="prettyprint lang-js">﻿<div id="cls-console"></div>/**
 * @class console
 * 系统控制台,如果存在firebug,利用firebug输出调试信息,否则忽略.
 * 在firbug中可直接进行对某个对象进行监视,
 * 无console时就为空调用,可重写自定输出.
 * @singleton
 */
if(!window.console)
      window.console = {};

if(!window.tester)
  window.tester = window.fireunit || {};

CC.extendIf(console,
  {
      <div id="method-console-debug"></div>/**
       * %o表示参数为一个对象
       * console.log('This an string "%s",this is an object , link %o','a string', CC);
       *@param {arguments} 类似C语言中printf语法
       *@method
       */
    debug : fGo,
<div id="method-console-info"></div>/**
 * @method info
 */
    info : fGo,
<div id="method-console-trace"></div>/**
 * @method trace
 */
    trace : fGo,
<div id="method-console-log"></div>/**
 * @method log
 */
    log : fGo,
<div id="method-console-warn"></div>/**
 * @method warn
 */
    warn : fGo,
<div id="method-console-error"></div>/**
 * @method error
 */
    error : fGo,
<div id="method-console-assert"></div>/**
 * @method assert
 */
    assert:fGo,
      <div id="method-console-dir"></div>/**
       * 列出对象所有属性.
       *@param {object} javascript对象
       *@method dir
      */
    dir:fGo,
<div id="method-console-count"></div>/**
 * @method count
 */
    count : fGo,
<div id="method-console-group"></div>/**
 * @method group
 */
    group:fGo,
<div id="method-console-groupEnd"></div>/**
 * @method groupEnd
 */
    groupEnd:fGo,
<div id="method-console-time"></div>/**
 * @method time
 */
    time:fGo,
<div id="method-console-timeEnd"></div>/**
 * @method timeEnd
 */
    timeEnd:fGo});
//基于firebug插件fireunit
CC.extendIf(tester, {
  ok : function(a, b){
    if(typeof a === 'function')
      a = a();
    if(typeof b === 'function')
      b = b();
    if(a != b){
      alert('assert failed in testing '+a+'=='+b);
      console.group('断言失败:',a, b);
      console.error(a, b);
      console.trace();
      console.groupEnd();
    }
  },
  testDone : fGo
});</pre>    
</body>
</html>