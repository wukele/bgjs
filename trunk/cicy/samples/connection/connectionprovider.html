<html>
<head><meta http-equiv="Content-Type" content="text/html; " /> 
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript" src="../../cicylib-all-debug.js"></script>
  <link rel="stylesheet" href="../../default/global.css" type="text/css"/>
  <link rel="stylesheet" href="../../default/ru_share.css" type="text/css"/>

</head>
<body>
	
</body>
</html>
<script>
CC.ready(function(){

  var win = new CC.ui.Win({
    minW:250,
    title:'Connection Provider Demo', 
    destroyOnlose:true, 
    showTo:document.body,
    autoRender:true,
    connectionProvider : {
      loadType:'html',
      ajaxCfg:{url:'request.php'},
      
      // 自定义为追加数据
      defaultDataProcessor : function(dataType, data){
        if(dataType === 'html'){
          this.t.wrapper.appendHtml(data, 'div');
        }
        else CC.util.ConnectionProvider.prototype.defaultDataProcessor.apply(this, arguments);
      }
    }
  });
  win.center();
  __debug = true;
  // 再连续发起多个请求
  for(var i=0;i<8;i++){
    win.getConnectionProvider().connect();
  }
  
});
</script>