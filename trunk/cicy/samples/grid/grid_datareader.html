<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript" src="../../cicylib-all-debug.js"></script>
  <link rel="stylesheet" href="../../default/global.css" type="text/css"/>
  <link rel="stylesheet" href="../../default/ru_share.css" type="text/css"/>
  <link rel="stylesheet" href="../resources/example.css" type="text/css"/>

<style>
</style>
</head>
<body>
</body>
</html>
<script>
// 原生容器适用数据，不用转换，可直接通过fromArray载入
var rawUIData = [
  {array:[{title:'原生'}, {title:'原生'}, {title:'原生'}, {title:'原生'}]},
  {array:[{title:'原生'}, {title:'原生'}, {title:'原生'}, {title:'原生'}]}
];
// 原始数组数据
var arrayStream = [
  ['a', 'b', 'c', 'e'],
  ['f', 'g', 'h', 'i'],
  ['j', 'k', 'l', 'm'],
  ['o', 'p', 'q', 'r']
];

// 原始记录映射数据
var mappedStream = [
  {first:'aa', second:'bb', third:'cc', fourth:'dd'},
  {first:'ee', second:'ff', third:'gg', fourth:'hh'},
  {first:'ii', second:'jj', third:'kk', fourth:'ll'},
  {first:'oo', second:'pp', third:'qq', fourth:'rr'}
];


CC.ready(function(){
  var grid = new CC.ui.Grid({
   header:
    {
     array:[
      {title:'第一列', id:'first'},
      {title:'第二列', id:'second'},
      {title:'第三列', id:'third'},
      {title:'第四列', id:'fourth'}
     ]
   },
   content : {altCS:'alt-row'}
  });

  var win = new CC.ui.Win({
    title:'自定义数据转换成UI可载入已格式化的数据',
    showTo:document.body,
    layout:'card',
    lyCfg:{items:[grid]}
  });
  
  win.render();
  win.center();
  // 原生容器适用数据，不用转换，可直接通过fromArray载入
  grid.content.fromArray(rawUIData);
  
  // 特定格式的数据经转换后读入到表
  var arrayDataAfterTrans = CC.util.DataTranslator.get('gridarraytranslator').read(arrayStream);
  grid.content.fromArray(arrayDataAfterTrans);

  var mappedDataAfterTrans = CC.util.DataTranslator.get('gridmaptranslator').read(mappedStream, grid.content);
  grid.content.fromArray(mappedDataAfterTrans);
});
</script>